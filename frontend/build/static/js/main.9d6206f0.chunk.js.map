{"version":3,"sources":["images/close_icon.svg","images/logo.svg","images/edit_icon.svg","images/add_icon.svg","images/change_avatar.svg","images/trash.svg","images/auth_ok.svg","images/auth_false.svg","contexts/CurrentUserContext.js","contexts/CardsContext.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","utils/Api.js","utils/constants.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ImagePopup.js","components/InfoTooltip.js","utils/AuthApi.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","CurrentUserContext","React","createContext","CardsContext","Header","props","createElement","className","src","appLogo","alt","loggedIn","userEmail","onClick","onLogout","type","NavLink","to","_ref","isActive","concat","_ref2","Card","array","userID","currentUser","useContext","isOwn","owner","_id","trash","handleDeleteClick","card","link","name","handleCardClick","handleLikeClick","likes","some","item","length","Main","cards","onEditAvatar","changeAvatarIcon","avatar","about","onEditProfile","editIcon","onAddPlace","addIcon","id","map","key","onCardClick","onCardLike","onCardDelete","Footer","apiClass","Api","options","_classCallCheck","this","_apiUrl","apiUrl","_token","token","_pathToCards","pathToCards","_pathToMyCard","pathToMyCard","_pathToMyAvatar","pathToMyAvatar","_createClass","value","res","ok","json","Promise","reject","status","requestUrl","jwt","localStorage","getItem","fetch","headers","Authorization","then","_checkResponse","result","method","Content-Type","body","JSON","stringify","_getApiData","_setApiData","cardId","authorization","PopupWithForm","isOpen","onClose","closeIcon","title","onSubmit","handleSubmit","action","noValidate","children","buttonName","EditProfilePopup","_React$useState","useState","_React$useState2","_slicedToArray","setName","_React$useState3","_React$useState4","description","setDescription","useEffect","e","preventDefault","onUpdateUser","Fragment","htmlFor","onChange","evt","target","placeholder","required","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","reset","ref","AddPlacePopup","placeName","placeUrl","Login","_useState","_useState2","registerPassword","setRegisterPassword","_useState3","_useState4","registerEmail","setRegisterEmail","Navigate","onLogin","password","email","Register","onRegister","Link","ImagePupup","InfoTooltip","isOkay","okayImage","fallImage","authApiClass","AuthApi","baseUrl","_authUrl","authUrl","_registerUrl","registerUrl","checkUrl","ProtectedRouteElement","Component","element","_objectWithoutProperties","replace","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","_useState5","_useState6","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","_useState7","_useState8","selectedCard","setSelectedCard","_useState9","_useState10","setCurrentUser","setCards","_useState11","_useState12","setUserEmail","_useState13","_useState14","setLoggedIn","_useState15","_useState16","isInfoPopupOpened","setIsInfoPopupOpened","_useState17","_useState18","isAuthOkay","setIsAuthOkay","closeAllPopups","checkToken","checkAuthorization","data","catch","err","console","log","handleLogin","authorizeUserRequest","setItem","resolve","getInitialCards","cardsData","getUserInfo","userData","Provider","clear","Routes","Route","path","isLiked","i","toggleLike","newCard","state","c","deleteCard","filter","registerUserRequest","finally","setUserInfo","setNewCard","_toConsumableArray","changeAvatar","ImagePopup","reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","BrowserRouter"],"mappings":"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","file":"static/js/main.9d6206f0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/close_icon.4c6a2169.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.51772f7c.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit_icon.58afbe73.svg\";","module.exports = __webpack_public_path__ + \"static/media/add_icon.bdfb8ebb.svg\";","module.exports = __webpack_public_path__ + \"static/media/change_avatar.34c46850.svg\";","module.exports = __webpack_public_path__ + \"static/media/trash.48bb334e.svg\";","module.exports = __webpack_public_path__ + \"static/media/auth_ok.7fc4c149.svg\";","module.exports = __webpack_public_path__ + \"static/media/auth_false.c32299fa.svg\";","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nexport const CardsContext = React.createContext();","import React from 'react';\r\nimport appLogo from '../images/logo.svg';\r\nimport { NavLink } from 'react-router-dom';\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={appLogo} alt=\"логотип\" className=\"header__logo\" />\r\n      {props.loggedIn ?\r\n        <div className='header__user-info'>\r\n          <span>{props.userEmail}</span>\r\n          <button onClick={props.onLogout} type='button' className='header__logout-button'>Выйти</button>\r\n        </div> :\r\n        <nav className=\"header__nav-links\">\r\n          <NavLink to=\"/sign-in\" className={({ isActive }) => `header__link ${isActive ? \"header__link_hide\" : \"\"}`}>Войти</NavLink>\r\n          <NavLink to=\"/sign-up\" className={({ isActive }) => `header__link ${isActive ? \"header__link_hide\" : \"\"}`}>Регистрация</NavLink>\r\n        </nav>\r\n      }\r\n    </header>\r\n  )\r\n}\r\nexport default Header;","import React from 'react';\r\nimport trash from '../images/trash.svg';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card(props) {\r\n    function handleLikeClick() {\r\n        props.handleLikeClick(props.card)\r\n    }\r\n    function handleDeleteClick() {\r\n        props.handleDeleteClick(props.card)\r\n    }\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.owner === currentUser._id;\r\n    const isLiked = (array, userID) => {\r\n        return array.some((item) => {\r\n            return item === userID;\r\n        });\r\n    }\r\n    return (\r\n        <li className=\"element\">\r\n            {isOwn && <button className=\"element__delete-button\" type=\"button\">\r\n                <img src={trash} onClick={handleDeleteClick} alt=\"удалить\" />\r\n            </button>}\r\n            <img src={props.link} alt={`фото: ${props.name}`} className=\"element__image\" onClick={props.handleCardClick} />\r\n            <h2 className=\"element__title\">{props.name}</h2>\r\n            <button type=\"button\" onClick={handleLikeClick} className={`element__like${isLiked(props.likes, currentUser._id) ? ' element__like_active' : ''}`}></button>\r\n            <p className=\"element__likes-count\">{props.likes.length}</p>\r\n        </li>\r\n    )\r\n}\r\nexport default Card;","import React from 'react';\r\nimport editIcon from '../images/edit_icon.svg';\r\nimport addIcon from '../images/add_icon.svg';\r\nimport changeAvatarIcon from '../images/change_avatar.svg';\r\n// import avatarLoaderImage from '../images/avatar.jpg';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport { CardsContext } from '../contexts/CardsContext.js';\r\nfunction Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const cards = React.useContext(CardsContext);\r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar\">\r\n                    <button type=\"button\" className=\"profile__avatar-button\" onClick={props.onEditAvatar}>\r\n                        <img src={changeAvatarIcon} alt=\"изменить аватар\" />\r\n                    </button>\r\n                    <img className=\"profile__avatar-image\" src={currentUser.avatar} alt=\"аватар\" />\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n                    <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                    <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfile}>\r\n                        <img className=\"profile__edit-button-icon\" src={editIcon} alt=\"кнопка изменения информации\" />\r\n                    </button>\r\n                </div>\r\n                <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}>\r\n                    <img className=\"profile__add-button-icon\" src={addIcon} alt=\"кнопка добавления карточки\" />\r\n                </button>\r\n            </section>\r\n            <ul className=\"elements\" id=\"elements-container\">\r\n                {cards ? cards.map((card) => (\r\n                    <Card key={card._id} id={card.id} link={card.link} name={card.name} owner={card.owner} likes={card.likes} handleCardClick={props.onCardClick} handleLikeClick={props.onCardLike} card={card} handleDeleteClick={props.onCardDelete}/>\r\n                )) : ''}\r\n            </ul>\r\n        </main>\r\n    )\r\n}\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n          <p className=\"footer__copyright\">\r\n            © 2020 Mesto Russia\r\n          </p>\r\n        </footer>\r\n    )\r\n}\r\nexport default Footer;","import { initialInfo } from \"./constants.js\";\r\nclass Api {\r\n    constructor(options) {\r\n        this._apiUrl = options.apiUrl;\r\n        this._token = options.token;\r\n        this._pathToCards = options.pathToCards;\r\n        this._pathToMyCard = options.pathToMyCard;\r\n        this._pathToMyAvatar = options.pathToMyAvatar;\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        } else {\r\n            return Promise.reject(`Ошибка ${res.status}`);\r\n        }\r\n    }\r\n\r\n    _getApiData(requestUrl) {\r\n        const jwt = localStorage.getItem('jwt');\r\n        return fetch(requestUrl, {\r\n            headers: {\r\n                'Authorization': `Bearer ${jwt}`\r\n            },\r\n        })\r\n            .then(this._checkResponse)\r\n            .then((result) => {\r\n                return result;\r\n            });\r\n    }\r\n\r\n    _setApiData(requestUrl, options, method) {\r\n        const jwt = localStorage.getItem('jwt');\r\n        return fetch(requestUrl, {\r\n            method: method,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${jwt}`\r\n            },\r\n            body: JSON.stringify(options)\r\n        })\r\n            .then(this._checkResponse)\r\n            .then((result) => {\r\n                return result;\r\n            });\r\n    }\r\n\r\n    getInitialCards() {\r\n        return this._getApiData(`${this._apiUrl}${this._pathToCards}`);\r\n    }\r\n\r\n    getUserInfo() {\r\n        return this._getApiData(`${this._apiUrl}${this._pathToMyCard}`);\r\n    }\r\n\r\n    setUserInfo(options) {\r\n        return this._setApiData(`${this._apiUrl}${this._pathToMyCard}`, options, 'PATCH');\r\n    }\r\n\r\n    setNewCard(options) {\r\n        return this._setApiData(`${this._apiUrl}${this._pathToCards}`, options, 'POST');\r\n    }\r\n\r\n    changeAvatar(options) {\r\n        return this._setApiData(`${this._apiUrl}${this._pathToMyCard}${this._pathToMyAvatar}`, options, 'PATCH');\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        const jwt = localStorage.getItem('jwt');\r\n        return fetch(`${this._apiUrl}${this._pathToCards}/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: `Bearer ${jwt}`\r\n            }\r\n        })\r\n            .then(this._checkResponse)\r\n            .then((result) => {\r\n                return result;\r\n            });\r\n    }\r\n\r\n\r\n    toggleLike(id, method) {\r\n        const jwt = localStorage.getItem('jwt');\r\n        return fetch(`${this._apiUrl}${this._pathToCards}/${id}/likes`, {\r\n            method: method,\r\n            headers: {\r\n                authorization: `Bearer ${jwt}`\r\n            }\r\n        })\r\n            .then(this._checkResponse)\r\n            .then((result) => {\r\n                return result;\r\n            });\r\n    }\r\n\r\n}\r\n\r\nexport const apiClass = new Api(initialInfo);","export const initialInfo = {\r\n    apiUrl: 'http://api.maxim-runkov.nomoreparties.co',\r\n    // apiUrl: 'http://127.0.0.1:3000',\r\n    pathToCards: '/cards',\r\n    pathToMyCard: '/users/me',\r\n    pathToMyAvatar: '/avatar'\r\n};\r\nexport const authApiInfo = {\r\n    baseUrl: 'http://api.maxim-runkov.nomoreparties.co',\r\n    // baseUrl: 'http://127.0.0.1:3000',\r\n    authUrl: '/signin',\r\n    pathToMyCard: '/users/me',\r\n    registerUrl: '/signup',\r\n    checkUrl: ''\r\n}\r\nexport const validSettings = {\r\n    formSelector: '.form',\r\n    inputSelector: '.form__input',\r\n    submitButtonSelector: '.form-submit',\r\n    inputErrorClass: 'form__input_type_error',\r\n    errorClass: 'error-message_visible',\r\n}","import React from 'react';\r\nimport closeIcon from '../images/close_icon.svg';\r\nfunction PopupWithForm(props) {\r\n    return (\r\n        <div className={`popup popup-${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__close-button\" type=\"button\" onClick={props.onClose}>\r\n                    <img src={closeIcon} alt=\"закрыть\" className=\"popup__close-icon\" />\r\n                </button>\r\n                <h2 className=\"popup__title\">{props.title}</h2>\r\n                <form onSubmit={props.handleSubmit} action=\"post\" className=\"form edit-form\" name={`${props.name}-form`} noValidate>\r\n                    {props.children}\r\n                    <button type=\"submit\" className=\"form-submit form__submit-button\">{props.buttonName}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n    function handleNameInput(evt) {\r\n        setName(evt.target.value);\r\n    }\r\n    function handleDescriptionInput(evt) {\r\n        setDescription(evt.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if (currentUser) {\r\n            setName(currentUser && currentUser.name ? currentUser.name : '');\r\n            setDescription(currentUser && currentUser.about ? currentUser.about : '');\r\n        }\r\n    }, [currentUser, props.isOpen]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"edit\"\r\n            onClose={props.onClose}\r\n            isOpen={props.isOpen}\r\n            handleSubmit={handleSubmit}\r\n            title=\"Редактировать профиль\"\r\n            buttonName='Сохранить'\r\n            children={\r\n                <>\r\n                    <label className=\"form__label\" htmlFor=\"edit-name\">\r\n                        <input id=\"edit-name\" value={name} onChange={handleNameInput} type=\"text\" className=\"form__input\" name=\"name\" placeholder=\"Имя\" required minLength={2} maxLength={40} />\r\n                        <span className=\"error-message edit-name-error\">текст ошибки</span>\r\n                    </label>\r\n                    <label className=\"form__label\" htmlFor=\"edit-profession\">\r\n                        <input id=\"edit-profession\" value={description} onChange={handleDescriptionInput} type=\"text\" className=\"form__input\" name=\"description\" placeholder=\"Профессия\" required minLength={2} maxLength={200} />\r\n                        <span className=\"error-message edit-profession-error\">текст ошибки</span>\r\n                    </label>\r\n                </>\r\n            } />\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const avatarRef = React.useRef();\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateAvatar({\r\n            _id: currentUser._id,\r\n            avatar: avatarRef.current.value\r\n        });\r\n        e.target.reset();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"change-avatar\"\r\n            onClose={props.onClose}\r\n            isOpen={props.isOpen}\r\n            title=\"Обновить аватар\"\r\n            buttonName='Сохранить'\r\n            handleSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                    <label className=\"form__label\" htmlFor=\"change-avatar-url\">\r\n                        <input ref={avatarRef} id=\"change-avatar-url\" type=\"url\" className=\"form__input\" name=\"avatar\" placeholder=\"Ссылка на картинку\" required />\r\n                        <span className=\"error-message change-avatar-url-error\">текст ошибки</span>\r\n                    </label>\r\n                </>\r\n            } />\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n    const placeName = React.useRef();\r\n    const placeUrl = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onAddPlace({\r\n            name: placeName.current.value,\r\n            link: placeUrl.current.value\r\n        });\r\n        e.target.reset();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"add\"\r\n            handleSubmit={handleSubmit}\r\n            onClose={props.onClose}\r\n            isOpen={props.isOpen}\r\n            title=\"Новое место\"\r\n            buttonName='Создать'\r\n            children={\r\n                <>\r\n                    <label className=\"form__label\" htmlFor=\"add-name\">\r\n                        <input ref={placeName} id=\"add-name\" type=\"text\" className=\"form__input\" name=\"name\" placeholder=\"Название\" required minLength={2} maxLength={30} />\r\n                        <span className=\"error-message add-name-error\">текст ошибки</span>\r\n                    </label>\r\n                    <label className=\"form__label\" htmlFor=\"add-url\">\r\n                        <input ref={placeUrl} id=\"add-url\" type=\"url\" className=\"form__input\" name=\"link\" placeholder=\"Ссылка на картинку\" required />\r\n                        <span className=\"error-message add-url-error\">текст ошибки</span>\r\n                    </label>\r\n                </>\r\n            } />\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\n\r\nfunction Login(props) {\r\n    const [registerPassword, setRegisterPassword] = useState('');\r\n    const [registerEmail, setRegisterEmail] = useState('');\r\n    function handleEmailInput(evt) {\r\n        setRegisterEmail(evt.target.value);\r\n    }\r\n    function handlePasswordInput(evt) {\r\n        setRegisterPassword(evt.target.value);\r\n    }\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onLogin({\r\n            'password': registerPassword,\r\n            'email': registerEmail,\r\n        });\r\n    }\r\n    return (\r\n        <>\r\n            {!props.loggedIn ?\r\n                <main>\r\n                    <h1 className=\"page-title\">Вход</h1>\r\n                    <form onSubmit={handleSubmit} action=\"post\" className=\"form authorization-form\" name={`login-form`} noValidate>\r\n                        <input onChange={handleEmailInput} value={registerEmail} type='email' className=\"authorization-form__input\" placeholder=\"Email\"></input>\r\n                        <input onChange={handlePasswordInput} value={registerPassword} type='password' className=\"authorization-form__input\" placeholder=\"Пароль\"></input>\r\n                        <button type=\"submit\" className=\"authorization-form__button\">Войти</button>\r\n                    </form>\r\n                </main> : <Navigate to={'/'} />}\r\n        </>\r\n    )\r\n}\r\nexport default Login;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\n\r\nfunction Register(props) {\r\n    const [registerPassword, setRegisterPassword] = useState('');\r\n    const [registerEmail, setRegisterEmail] = useState('');\r\n    function handleEmailInput(evt) {\r\n        setRegisterEmail(evt.target.value);\r\n    }\r\n    function handlePasswordInput(evt) {\r\n        setRegisterPassword(evt.target.value);\r\n    }\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onRegister({\r\n            'password': registerPassword,\r\n            'email': registerEmail,\r\n        });\r\n    }\r\n    return (\r\n        <>\r\n            {!props.loggedIn ? <main>\r\n                <h1 className=\"page-title\">Регистрация</h1>\r\n                <form onSubmit={handleSubmit} action=\"post\" className=\"form authorization-form\" name={`login-form`} noValidate>\r\n                    <input type='email' value={registerEmail} onChange={handleEmailInput} className=\"authorization-form__input\" placeholder=\"Email\"></input>\r\n                    <input type='password' value={registerPassword} onChange={handlePasswordInput} className=\"authorization-form__input\" placeholder=\"Пароль\"></input>\r\n                    <button type=\"submit\" className=\"authorization-form__button\">Зарегистрироваться</button>\r\n                    <p className=\"authorization-disclaimer\">Уже зарегистрированы? <Link to={\"/sign-in\"} className=\"authorization-disclaimer__link\">Войти</Link></p>\r\n\r\n                </form>\r\n            </main> : <Navigate to={'/'} />}\r\n        </>\r\n    )\r\n}\r\nexport default Register;","import React from 'react';\r\nimport closeIcon from '../images/close_icon.svg';\r\nfunction ImagePupup(props) {\r\n    return (\r\n        <div className={`popup image-popup ${props.card?'popup_opened':''}`}>\r\n            <div className=\"popup__image-wrapper\">\r\n                <button type=\"button\" className=\"popup__close-button image-popup__close-icon\" onClick={props.onClose}>\r\n                    <img src={closeIcon} alt=\"закрыть\" className=\"popup__close-icon\" />\r\n                </button>\r\n                <img src={props.card?props.card.src:''} alt={props.card?props.card.alt:''} className=\"image-popup__image\" />\r\n                <p className=\"image-popup__description\">{props.card?props.card.alt:''}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default ImagePupup;","import React from 'react';\r\nimport closeIcon from '../images/close_icon.svg';\r\nimport okayImage from '../images/auth_ok.svg';\r\nimport fallImage from '../images/auth_false.svg';\r\nfunction InfoTooltip(props) {\r\n    return (\r\n        <div className={`popup info-popup ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <div className=\"popup__container info-popup__wrapper\">\r\n                <button type=\"button\" className=\"popup__close-button image-popup__close-icon\" onClick={props.onClose}>\r\n                    <img src={closeIcon} alt=\"закрыть\" className=\"popup__close-icon\" />\r\n                </button>\r\n                <img src={props.isOkay ? okayImage : fallImage} alt=\"#\" className=\"info-popup__image\" />\r\n                <p className=\"info-popup__description\">{props.isOkay ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default InfoTooltip;","import { authApiInfo } from \"./constants.js\"\r\n\r\nclass AuthApi {\r\n    constructor(options) {\r\n        this._apiUrl = options.baseUrl;\r\n        this._authUrl = options.authUrl;\r\n        this._pathToMyCard = options.pathToMyCard;\r\n        this._registerUrl = options.registerUrl;\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        } else {\r\n            return Promise.reject(`Ошибка ${res.status}`);\r\n        }\r\n    }\r\n\r\n    _setApiData(requestUrl, options) {\r\n        return fetch(requestUrl, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(options)\r\n        })\r\n            .then(this._checkResponse)\r\n            .then((result) => {\r\n                return result;\r\n            });\r\n    }\r\n\r\n    checkAuthorization(token) {\r\n        return fetch(`${this._apiUrl}${this._pathToMyCard}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n            .then(this._checkResponse)\r\n            .then((result) => {\r\n                return result;\r\n            });\r\n    }\r\n\r\n    registerUserRequest(options) {\r\n        return this._setApiData(`${this._apiUrl}${this._registerUrl}`, options);\r\n    }\r\n\r\n    authorizeUserRequest(options) {\r\n        return this._setApiData(`${this._apiUrl}${this._authUrl}`, options);\r\n    }\r\n}\r\n\r\nexport const authApiClass = new AuthApi(authApiInfo);","import React from 'react';\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nconst ProtectedRouteElement = ({ element: Component, ...props  }) => {\r\n  return (\r\n    props.loggedIn ? <Component {...props} /> : <Navigate to=\"/sign-in\" replace/>\r\n)}\r\n\r\nexport default ProtectedRouteElement; ","import React from 'react';\r\nimport { useState, useEffect } from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport { CardsContext } from '../contexts/CardsContext.js';\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport { apiClass } from '../utils/Api.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport Login from './Login.js';\r\nimport Register from './Register.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport InfoTooltip from './InfoTooltip.js'\r\nimport { Route, Routes } from \"react-router-dom\";\r\nimport { authApiClass } from '../utils/AuthApi';\r\nimport ProtectedRouteElement from \"./ProtectedRoute\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [currentUser, setCurrentUser] = useState({\r\n    \"name\": \"Изя\",\r\n    \"about\": \"Шнипперсон\",\r\n    \"avatar\": \"https://oir.mobi/uploads/posts/2020-01/1578161586_1-2.jpg\",\r\n    \"_id\": \"a29965ee4a6c3634590e40bc\",\r\n  });\r\n  const [cards, setCards] = React.useState([]);\r\n  const [userEmail, setUserEmail] = useState('');\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [isInfoPopupOpened, setIsInfoPopupOpened] = useState(false);\r\n  const [isAuthOkay, setIsAuthOkay] = useState(false);\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      Promise.resolve(apiClass.getInitialCards())\r\n        .then((cardsData) => {\r\n          setCards(cardsData.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n      Promise.resolve(apiClass.getUserInfo())\r\n        .then((userData) => {\r\n          setCurrentUser(userData.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n    }\r\n  }, [loggedIn]);\r\n  useEffect(() => {\r\n    checkToken();\r\n  }, []);\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n  function handleCardClick(evt) {\r\n    setSelectedCard(evt.target);\r\n  }\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsInfoPopupOpened(false);\r\n    setSelectedCard(null);\r\n  }\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i === currentUser._id);\r\n    apiClass.toggleLike(card._id, isLiked ? 'DELETE' : 'PUT').then((newCard) => {\r\n      setCards((state) => state.map((c) => c._id === card._id ? newCard.data : c));\r\n    })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function handleCardDelete(card) {\r\n\r\n    apiClass.deleteCard(card._id).then((res) => {\r\n      if (res) {\r\n        setCards((state) => state.filter((c) => c._id !== card._id));\r\n      }\r\n    })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function handleUpdateUser(options) {\r\n    apiClass.setUserInfo(options)\r\n      .then((result) => {\r\n        setCurrentUser(result.data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`ОШИБКА! ${err}`);\r\n      });\r\n  }\r\n  function handleUpdateAvatar(options) {\r\n    apiClass.changeAvatar(options)\r\n      .then((result) => {\r\n        setCurrentUser(result.data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`ОШИБКА! ${err}`);\r\n      });\r\n  }\r\n  function handleAddPlace(options) {\r\n    apiClass.setNewCard(options)\r\n      .then((newCard) => {\r\n        setCards([newCard.data, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`ОШИБКА! ${err}`);\r\n      });\r\n  }\r\n\r\n  //регистрация-авторизация\r\n  function checkToken() {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (jwt) {\r\n      authApiClass.checkAuthorization(jwt)\r\n        .then((result) => {\r\n          setUserEmail(result.data.email);\r\n          setLoggedIn(true);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setUserEmail('');\r\n          setLoggedIn(false);\r\n        })\r\n    } else {\r\n      setUserEmail('');\r\n      setLoggedIn(false);\r\n    }\r\n  }\r\n  function handleRegister(options) {\r\n    authApiClass.registerUserRequest(options)\r\n      .then(() => {\r\n        handleLogin(options);\r\n        setIsAuthOkay(true);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setIsAuthOkay(false);\r\n      })\r\n      .finally(() => {\r\n        setIsInfoPopupOpened(true);\r\n      })\r\n  }\r\n\r\n  function handleLogin(options) {\r\n    authApiClass.authorizeUserRequest(options)\r\n      .then((result) => {\r\n        localStorage.setItem('jwt', result.token);\r\n        setUserEmail(options.email);\r\n        setLoggedIn(true);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.clear();\r\n    checkToken();\r\n  }\r\n\r\n  //регистрация-авторизация\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n\r\n      <div className=\"page-wrapper\">\r\n        <Header loggedIn={loggedIn} userEmail={userEmail} onLogout={handleLogout} />\r\n        <CardsContext.Provider value={cards}>\r\n          <Routes>\r\n            <Route path='/' element={<ProtectedRouteElement element={Main}\r\n              loggedIn={loggedIn}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick}\r\n              card={selectedCard}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete} />} />\r\n            <Route path='/sign-in' element={<Login onLogin={handleLogin} loggedIn={loggedIn} />} />\r\n            <Route path='/sign-up' element={<Register onRegister={handleRegister} loggedIn={loggedIn} />} />\r\n          </Routes>\r\n        </CardsContext.Provider>\r\n        <Footer />\r\n      </div>\r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser} />\r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onAddPlace={handleAddPlace} />\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar} />\r\n      <ImagePopup\r\n        card={selectedCard}\r\n        onClose={closeAllPopups} />\r\n      <InfoTooltip\r\n        isOpen={isInfoPopupOpened}\r\n        isOkay={isAuthOkay}\r\n        onClose={closeAllPopups} />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}